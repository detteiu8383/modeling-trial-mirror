# 実習編 Introduction

Blenderを利用した簡単な3DCGの作成手順を学びましょう。

最低限の操作で最低限のモデルを作ることを意識して作成した資料なので、物足りないと感じた方はガンガンググってもっと発展した制作を目指してみてください。

## 本資料の使い方

緑の枠で囲んだ部分が実際に操作する部分です。資料を読み進め、内容が理解出来たら緑の部分を実践しましょう。

:::training テスト
この枠で囲んだ部分は実際にBlender上で操作しましょう
:::

## 本制作のゴール

人型のモデルを作成し、アニメーションさせ、映像を出力する。

具体的には以下を扱います

- ポリゴンメッシュの作成
  - ループカットと押し出しで形成
- マテリアルの作成
  - 色の変更のみ
- アーマチュアの作成
  - スキンウェイトは自動で設定する
- アニメーションの作成
- カメラ、ライトの設定
- 動画(mp4)として出力

## Blenderのインストール

[/graphics/modeling/Blender/installation](https://wiki.trap.jp/604c233cbfe05800144c5abc)を参考に、**インストール**と**日本語化**を済ませてください。

インストール出来たらBlenderを起動します。

起動したら次のような画面になります。↓
![](https://md.trap.jp/uploads/upload_f633a43a5b5b23e51f8f7108b36f3bf0.png)

真ん中の↓これ↓はスプラッシュスクリーンと呼ばれるもの。
![](https://md.trap.jp/uploads/upload_673e026a43c846787023999170674f58.png)
Blenderからの「こんにちは」です。この画面の右上に表示されている数字が、今利用しているBlenderのバージョン情報です。この実習では**2.9x.x**になっていれば大丈夫。2021/05/04現在の最新版は**2.92.0**です。

:::training
バージョンが確認出来たらスプラッシュスクリーン**以外の**適当な場所をクリックしてスプラッシュスクリーンを消しましょう。
:::

↓これがBlenderの画面構成。
![](https://md.trap.jp/uploads/upload_8b26084711b08b38704a2a281ec3e28e.png)

- **3Dビューポート**でモノの操作を行う
- **アウトライナー**でモノやライト、カメラの管理を行う
- **プロパティ**でモノ等の設定を行う

といった感じ。

## ファイルの保存

最初に今回の作業データの保存場所の設定を行いましょう。
Blenderは作業途中のデータをまるまる`.blend`の形式で保存します。

:::training

### ファイルの保存をしよう

まず、画面左上の"**ファイル**→**名前を付けて保存**"を選択してください。
![](https://md.trap.jp/uploads/upload_267c7bba44b9dc0e1b3e874d27881f14.png)

するとファイル保存用のウィンドウが開くので、下の画像に従って`.blend`ファイルを保存してください。
![](https://md.trap.jp/uploads/upload_5fa780de00acd2c17541d356cccd934e.png)
:::

以降、**適宜作業がひと段落つくたびにファイルの保存をするようにしましょう**。画面左上の"ファイル"→"保存"でも保存できますし、Windowsなら<kbd>Ctrl</kbd> + <kbd>S</kbd>、Macなら<kbd>⌘command</kbd> + <kbd>S</kbd>でも保存できます

## 3Dビューポートでの視点移動

まずは視点移動の練習をします。

- マウスの中ボタン(くるくる回るやつ)を押しながらマウスを動かすと、視点を上下左右に回転できます。
- <kbd>Shift</kbd>を押した後に、マウスの中ボタンを押しつつマウスを動かすと、上下左右に視点を平行移動できます。
- マウスのスクロールで、画面のズームイン/ズームアウトができます。
- <kbd>Alt</kbd>を押しながら中ボタンドラッグをすると、真正面、真横、真上等からの視点になります。

:::training

### Blenderの視点操作に慣れよう

上に挙げた四つの視点操作を全て試してみてください。
:::

## オブジェクトモードと編集モード

デフォルトでは画面の中央に立方体が置いてあるはずです。Blenderでは

1. 3Dビューポートにモノ(**オブジェクト**と呼ぶ)を設置
2. オブジェクトを編集

の手順を繰り返して制作を行うため、以下の2つのモードが存在します。

- **オブジェクトモード**
  - オブジェクト自体の配置や移動を行うモードです。
- **編集モード**
  - 1つのオブジェクトの頂点や辺、面の配置や移動を行うモードです。

これら2つのモードは画面左上から切り替えることができます。<kbd>Tab</kbd>を押すことでも切り替えることができます。

![](https://md.trap.jp/uploads/upload_15c44f9b820cd3f2faa263cd7a84cd57.png)

![](https://md.trap.jp/uploads/upload_82ea1a316c9e1c006a7a528b249e7c50.png)

これら2つ以外にもモードは存在しますが、今回は扱いません。

## オブジェクトの選択/追加と削除

オブジェクトモードで単純な図形を設置し、編集モードで複雑な形に変形させることでモデリングを行っていきます。

:::training

### 立方体の削除/追加とモードの切り替えをしよう

オブジェクトモードでは、左クリックでオブジェクトの選択ができます。選択できると、オブジェクトの周りがオレンジの線で縁取られます。

![](https://md.trap.jp/uploads/upload_74f20d17534e780a22fdd0a0426e1ae2.png)

この状態で<kbd>X</kbd>を押すと、**オブジェクトの削除**を行うことができます。確認ダイアログが出るので、OKを押して削除してください。

![](https://md.trap.jp/uploads/upload_a5a37a137b21bc281c4cc4b6910fea04.png)

<kbd>X</kbd>による削除は**編集モードでも使える**ので覚えておいてください。

また、オブジェクトモードでは左上の"**追加**"を選択することで、オブジェクトの追加ができます。

立方体を追加したいので、"追加"→"メッシュ"→"立方体"を選択してください。

![](https://md.trap.jp/uploads/upload_25fc8e6b550943bbbc7b1f38c16e7a47.png)

これで新しい立方体の追加ができました。この立方体を再度選択してください。オレンジで縁取られていれば選択できています。この状態で、編集モードに切り替えてください。すると下のような画面になるはずです。

![](https://md.trap.jp/uploads/upload_fd07c5e349df047a3f2852c471153de3.png)

立方体の様子が変わって、立方体の編集モードになりました。
:::

:::tip
Blenderでは、ボタンや数値の入力ボックスなど、クリックで選択できる要素にマウスカーソルを重ねるとその説明を表示できます。よくわからないボタンがあったら、ひとまずクリックせずに説明を読んでみましょう
:::

## 編集モードでの選択

編集モードでは、**左クリック**によりオブジェクトのこまかなパーツの**選択**ができるようになります。
選択されたパーツは白またはオレンジ色になります。

何を選択できるかは画面左上で選択でき、それぞれ左から頂点、辺、面を選択できるようになります。(数字キーの<kbd>1</kbd>、<kbd>2</kbd>、<kbd>3</kbd>を押すことでもそれぞれ切り替えることができます)

![](https://md.trap.jp/uploads/upload_9a65ea9273e800fcdb187c953fd1c4be.png)

<kbd>Shift</kbd>+左クリック で**複数選択**できます。

<kbd>A</kbd>を押すとそのオブジェクト内の頂点等を**全選択**できます。二連続で押すと、**全選択解除**出来ます。

<kbd>Ctrl</kbd>+<kbd>L</kbd>(Macなら<kbd>⌘command</kbd>+<kbd>L</kbd>)で、現在選択しているものと**繋がっているもの**を全て選択できます(リンク(Link)選択)

## 取り消しとやり直し

<kbd>Ctrl</kbd>+<kbd>Z</kbd>を押すと、**今行った操作を取り消す**ことができます。モデリングに限らず、多くのソフトウェアでこのショートカットキーが使えるはずなので**絶対に覚えてください**。

<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Z</kbd>を押すと、**取り消した操作をやり直す**ことができます。「取り消しすぎちゃった...」ってときに使いましょう。

## 編集モードのツール

編集モードでは、画面左に**ツール一覧**が表示されます。

もし表示されていない場合は、画面左端上方にある小さな三角マークをクリックするか、<kbd>T</kbd>を押すことで表示できます。
![](https://md.trap.jp/uploads/upload_0749d0b38baed242c9f0af19c8b4f32a.png)

ツール一覧は<kbd>T</kbd>を押すと表示/非表示が切り替わるので、見つからなかったり、消えてしまっても慌てずに<kbd>T</kbd>を押してください。

ツール一覧が表示してあるとこうなっているはず

![](https://md.trap.jp/uploads/upload_1db2b315ca92965ce316d0c2f821193a.png)

ここでは特に重要なツールの紹介をします。これらは今回の実習ではもちろん、通常の制作でもよく使うことになるので覚えておいてください。

### 選択

![](https://md.trap.jp/uploads/upload_7fb7aa4535003627905a9f8b68b5b238.png)

ツール一覧の一番上のマークをクリックすると、選択ツールになります。これは先ほど説明した、モノの選択ができるツールです。

マークを長押しすることで、**ボックス選択**やサークル選択等を切り替えることができますが、今回はボックス選択を使うことをお勧めします。
![](https://md.trap.jp/uploads/upload_23ebd6dce76ca48d3b7d0bf403a7003a.png)

### 移動

![](https://md.trap.jp/uploads/upload_fdcc39dc7cf9ead9a81a17e7e3259174.png)

十字の矢印のマークは**移動**ツールです。選択した頂点や辺、面を移動させることができます。移動ツールを選んだまま頂点等の選択も可能です。

下の画像は移動ツールで立方体の頂点を選択している状態です。
![](https://md.trap.jp/uploads/upload_6f86edbb5b32e2360dcb1a0c97d7f39e.png)

画面に表示された赤・青・緑の矢印をドラッグすることで、その矢印に沿って選択物の移動ができます。
この赤青緑は"**マニピュレータ**"と呼びます。

白い円をドラッグすることでも選択物の移動ができます。この場合、矢印に沿った移動ではなく自由に移動できます。

<kbd>G</kbd>を押すことでも、選択物の移動ができます(Grabの頭文字)。この場合は、左クリックで移動を確定します。

移動の途中で<kbd>Shift</kbd>を押すと、**ゆっくり移動**させることができます。細かい調整がしたい場合は活用してみてください。

### 回転

![](https://md.trap.jp/uploads/upload_491485849515fc08cda19bad9d4d14ad.png)

いかにも回転させそうなマークは**回転**ツールです。選択した辺または面を回転させることができます。移動ツールと同様に、マニピュレータで軸に沿った回転、白い円のドラッグで自由に回転できます。

<kbd>R</kbd>を押すことでも、選択物の移動ができます(Rotateの頭文字)。この場合は、左クリックで回転を確定します。

こちらも、回転の途中で<kbd>Shift</kbd>を押すと、ゆっくり回転させることができます。

![](https://md.trap.jp/uploads/upload_5d831c3cf84eb4dc17b810a75c5af80d.png)

### スケール

![](https://md.trap.jp/uploads/upload_dda56967dd247d5eaf846472b69ec802.png)

**スケール**ツールを使うと、選択物の大きさを変えることができます。これも、マニピュレータで軸に沿った拡縮、白い円のドラッグで自由に拡縮できます。

<kbd>S</kbd>を押すことでも、選択物の移動ができます(Scaleの頭文字)。この場合は、左クリックで拡縮を確定します。

こちらも、拡縮の途中で<kbd>Shift</kbd>を押すと、ゆっくり拡縮させることができます。

![](https://md.trap.jp/uploads/upload_a318d52f765ba0d0764bffeb347752a7.png)

:::training

### 移動・回転・スケールの操作に慣れよう

立方体の頂点や辺、面を移動/回転/拡縮して変形させてみよう。変形した立方体はこの後の実習で使わないので自由に変形してとにかく操作に慣れよう。
:::

## キャラクターモデルの作成

ここからいよいよ今回の目標であるキャラクターモデルの作成に取り掛かります。ここからずっと作業と説明同時進行です。

:::training
まず、先ほどまでいじっていた立方体だったものは削除してしまいましょう。一度オブジェクトモードに戻り、立方体だったものを選択、<kbd>X</kbd>で削除です。

そしてまた新たにキャラクターモデルのもととなる立方体を追加します。オブジェクトモードで"追加"→"メッシュ"→"立方体"でしたね。

追加した立方体を選択して編集モードに切り替えてください。

また、ここからはこまめな保存を心掛けましょう。忘れる前に<kbd>Ctrl</kbd>+<kbd>S</kbd>。

今回作るのは人型のモデルです。最低限必要なパーツは頭・体・両足の4つのパーツです。
最終的なイメージはこんな感じです。

↓斜めから見た図
![](https://md.trap.jp/uploads/upload_a7c6eddb739756d9914a8fa8dfc625bd.png)

↓正面から見た図
![](https://md.trap.jp/uploads/upload_afecbed6faafcafc10f8cdc4a6b22132.png)

↓真横から見た図

![](https://md.trap.jp/uploads/upload_ba64eca58faa8056306cc53b25102b75.png)

↓斜め後ろから見た図

![](https://md.trap.jp/uploads/upload_6cd66c60158cd53904b89f98474c8238.png)

もちろん、完璧にこの通りにする必要はありませんし、各自でアレンジしていただいても構いません。猫耳生やすとか、服の形を変えるとか。

まずは体を作りましょう。追加した立方体全体を選択し、縦に細長くなるように拡大します。また、体を少し上に(青い矢印の方向)移動させます。

![](https://md.trap.jp/uploads/upload_4c6fb27d66d2f143e948581d88298100.png)

ここで、下のグリッドに注目してください。このグリッドはオブジェクトが置かれる世界の目印です。ここが床になるとして、足を作ったときにちょうどいい高さになるよう体を上に移動させました。

次に、腕部分を作成します。ここで使うのが**ループカット**と**押し出し**です。

### ループカット

![](https://md.trap.jp/uploads/upload_c101bc2191138add3e5ab302d1a4f185.png)

**ループカット**を使うと、繋がったポリゴンを**きれいに分割する辺を作成**することができます。ループカットを選択した状態でカーソルをポリゴンに重ねると、補助線が表示されます。今回は横にループ状の辺を作成したいので、下図のように補助線が表示されるようカーソルを重ね、左クリックを**長押し**します。
![](https://md.trap.jp/uploads/upload_1f012b38694823660af6a307e0305fcd.png)
すると、挿入する辺の位置を調整することができるので、マウスをドラッグして調整します。胸～脇の下のラインを作りたいので、上1/3程度の位置でマウスを放して確定させます。

![](https://md.trap.jp/uploads/upload_65d7520da41d394cd048540acee1ca37.png)

この後も辺を追加する場合は、このループカットを使って作業します。

なお、このループカットは<kbd>Ctrl</kbd>+<kbd>R</kbd>のショートカットキーでも使うことができます。

### 押し出し

![](https://md.trap.jp/uploads/upload_a0398a5b00b5e144c8ee3c3afc3ede48.png)

**押し出し**ツールを使うと、頂点や辺、面から**新たな辺や面を押し出して作成**することができます。言葉での説明が難しいので一度試してみましょう。

まず、"面"の選択モードに切り替えて、下図の面を選択してください。

![](https://md.trap.jp/uploads/upload_a15287b10d80f0a9a462c9bd76df9025.png)

その後、ツール一覧から押し出しツールを選択すると、下図のような表示に切り替わります。

![](https://md.trap.jp/uploads/upload_d90a827cfb744fc2828d901b116dfeed.png)

この状態で"＋"のマークをドラッグすると...

![](https://md.trap.jp/uploads/upload_7c82d111228e6cc4b348a41098793d5b.png)

このように、選択した面から新たな面をにょきっと押し出すように作成することができます。今回はこの押し出した部分を片腕としますので、反対側の面でも同様に、同じくらいの長さだけ押し出してください。

![](https://md.trap.jp/uploads/upload_3140a6d18a686145e8e2dc693245843a.png)

このようになっていればOK

### 足、頭の追加

オブジェクトモードと同様に、編集モードでも立方体の追加ができます。この場合、最初からあった立方体と合わせて1つのオブジェクトとして扱われます。1つのオブジェクト内でポリゴンメッシュが分離していても問題ありません。

編集モードで新たに立方体を追加して、頭と足を作成しましょう。

"追加"→"メッシュ"→"立方体"で立方体を追加して...

![](https://md.trap.jp/uploads/upload_e0d317521e605e815a489114f365d70a.png)

拡縮と移動を組み合わせて片足を作り、体部分に下から差し込むような位置に配置します。
このままでは重なった部分が見づらいので、画面右上の**透過表示切替ボタン**を押して、メッシュを半透明しましょう。

![](https://md.trap.jp/uploads/upload_2804089ba2d24ee289ce48d5a000bd62.png)
↑この透過表示切替ボタンを押すと...

![](https://md.trap.jp/uploads/upload_ad89ee262ee87d8e7a869aa0fc28af1a.png)
↑体と足が重なった部分も見えるようになりました。この段階ではまだおおざっぱな位置関係だけあっていれば大丈夫です。最後に調整します。

![](https://md.trap.jp/uploads/upload_46823f98756dec9f17fe7068684aa2b8.png)
↑同様の作業を繰り返し、両足を作成してみてください。

![](https://md.trap.jp/uploads/upload_8f76eb28ca3b351b7d98020636edb5c1.png)
↑頭の位置にも立方体を追加し、頭を作りましょう。

これでパーツが揃いました。...が、このままでは少し不格好なので、移動・回転・拡縮・ループカットによる辺の追加を駆使して形を整えましょう。この工程が一番難しく、また、人によって好み等で差が出る部分です。今回はヒトの形でしたらどのように変形しても構いません。難しいと感じる人は、この資料の通りの変形を目指してみてください。

![](https://md.trap.jp/uploads/upload_34c676c80f874c6c7ed61d43b847a3a1.png)
↑足首の辺りにループカットで辺を追加し、形を整えました。

![](https://md.trap.jp/uploads/upload_23a8b912f90fea1553a20b62bdb5f691.png)
↑体のサイズを調整し、おなかにループカットで辺を作ってワンピース風にしました。

![](https://md.trap.jp/uploads/upload_a66f1873fcc84425753cb3b55c99dde7.png)
↑頭に3回、各方向からループカットで辺を作り...

![](https://md.trap.jp/uploads/upload_eab4b163b77e2893205ac7095b30f4ff.png)
↑丸みを帯びた形にしました

![](https://md.trap.jp/uploads/upload_71626039e01508c57265bba9b5afd4d3.png)
↑頭と同じ形のメッシュをもう一つ作り、一部を削除することで...

![](https://md.trap.jp/uploads/upload_792031a62bd6e131ada70d1bfc5456dc.png)
↑髪の毛を作りました。

## マテリアルの設定

メッシュが完成したら、次はマテリアルで色を設定します。

![](https://md.trap.jp/uploads/upload_b6047597d946ea567303c8714bb91707.png)
左上のこのマークをクリックして、マテリアルプレビューモードに切り替えましょう。
このモードではマテリアルの見え方を確認しながらモデリングを進めることができます。

早速マテリアルを設定して行きましょう。

編集モードのまま、画面左下の**プロパティ**パネルの中で、**マテリアルプロパティ**のタブを開いてください。下の方の赤い球のマークです。ここを開き、画像中赤線で囲まれた"+新規"をクリックしてください。

![](https://md.trap.jp/uploads/upload_4ea4afa8cb98ac6e0f3c32506db09774.png)

すると"Material"と名前が付いたマテリアルが新たにこのオブジェクトに対して作成されます。

![](https://md.trap.jp/uploads/upload_e909bc2aa48cf4a2229a6179a59a3a74.png)

このマテリアルの"サーフェス"のメニュー中の"ベースカラー"を変更すると、メッシュの色を変えることができます。

ここでは肌色にしてみました。

![](https://md.trap.jp/uploads/upload_9a21fffe5879f4664c6323dcb22ae23c.png)

さらに別の色を加えるには、別のマテリアルを新たに作成する必要があります。
下の画像に示している"＋"を押して、新たなマテリアルを作成します。

![](https://md.trap.jp/uploads/upload_921e7932642264c6a98570eaedfa2203.png)

"＋"を押すとマテリアル欄に新たな行が追加され、また"+新規"を押すことでマテリアルを追加することができます。

![](https://md.trap.jp/uploads/upload_7b1fa036d9fb1b9f443a4530e24983b6.png)

![](https://md.trap.jp/uploads/upload_7b4e55c8e0018e6d5899924df169bbf6.png)

ここでは青いマテリアルを追加しました。...が、全ての面に、最初に作成したマテリアルだけが適用されています。Blenderでは、各面毎にマテリアルを割り振ることができるのでマテリアルの割り振りを行いましょう。

![](https://md.trap.jp/uploads/upload_ff0d320e749fd2e05e5845a50875b357.png)
上の画像のように、まずマテリアルを割り当てたい面を選択し、次に割り当てたいマテリアルをプロパティのメニューで選択します。最後に"割り当て"を選択することで、選択した面に選択したマテリアルを割り当てることができます。

これを用いて、数種類のマテリアルを用意し、服や靴などマテリアルを分けて色を変えてみましょう。

![](https://md.trap.jp/uploads/upload_aee9753f644811e9c8787b22fc33ef6a.png)

肌、服、髪を色で区別してみました。また、目の部分に新たに辺を作成し、目の色を設定してみました。

## スケルトンの追加

ここまでで、"立体物の用意"は完了しました。次は、これをアニメーションさせるためにスケルトンの追加を行います。

**オブジェクトモードに戻り**、"追加"→"**アーマチュア**"を選択してください(Blenderではスケルトンのことをアーマチュアと呼びます。

![](https://md.trap.jp/uploads/upload_6586a2c9b5025b4b350d7d0288022288.png)

![](https://md.trap.jp/uploads/upload_97049b039dfa7fae199efbbe0de14c9e.png)

座学スライドで見せたような"ボーン"が追加されました。

このままではメッシュに隠れて見づらいので、ボーンが常に最前面に表示されるよう設定します。オブジェクトモードで追加したアーマチュアを選択し、プロパティパネルの棒人間マークを選択してください。これがアーマチュアの設定パネルです。この中の"ビューポート表示"の"最前面"にチェックを入れてください。すると、ボーンが常に最前面に表示されるようになります。

![](https://md.trap.jp/uploads/upload_9df418893103dbd56dcba15ebf54a1d7.png)

アーマチュアを選択して、アーマチュアの編集モードに切り替えましょう。メッシュの編集モードと同様に、ボーンを操作することができます。下図のように、体の中心にボーンを移動させてください。

![](https://md.trap.jp/uploads/upload_5ffea20f5c7395a93165c48e3ea51583.png)
![](https://md.trap.jp/uploads/upload_66b73ac0cb288e6238b246dbb810d1c8.png)

さらに、手足や頭の変形のためにボーンを追加します。アーマチュアの編集モードになっていることを確認し、体中央のボーンの先端のジョイント(球の部分)を選択してください。

この状態で左のツール一覧から**押し出し**ツールを選択します。

![](https://md.trap.jp/uploads/upload_20298792295e30e4850f5a6837fee0df.png)

すると、メッシュの編集時の押し出しツールと同じマニピュレータが出てきます。

![](https://md.trap.jp/uploads/upload_dc16bda2d56763b3f10d69cf17f7b5aa.png)

メッシュの時と同様に、白い円をドラッグすることで新たなボーンを作成することができます。これを使って、腕の中心をとおる位置にボーンを追加しましょう。

![](https://md.trap.jp/uploads/upload_33d8167ccc8d9c7a6ed49699e246265e.png)

ただし、このままだと腕のボーンのジョイントが胸のあたりに来ています。腕は肩から回るものなので、このジョイントを肩の位置に移動させた方が自然な変形ができます。

そこで、まず新たに押し出して作ったボーンを選択し...

![](https://md.trap.jp/uploads/upload_5eeb8310fbf12d272008d2565244cde2.png)

プロパティパネルの**ボーン**タブを開きます(骨のマーク)。

![](https://md.trap.jp/uploads/upload_9b89cdb79e34295acb547c93b3c7b1ff.png)

このプロパティの中の、"**接続**"からチェックマークを外してください。すると、ボーンをバラバラに移動させることができるようになります。

![](https://md.trap.jp/uploads/upload_3021b36524e85afbf214b84fa9ff4d6d.png)

これを繰り返し、体中心のボーンから押し出して作ったボーンで両手足と頭の①にボーンを設置してください。

![](https://md.trap.jp/uploads/upload_ea0ed45786156caafa0fb3903f4bfada.png)

↑こんな感じになっていればOK

## スキンウェイトの設定

次に、スキンウェイトの設定を行います。今回は自動でウェイト調整してくれる機能を用います。

まずオブジェクトモードに戻り、モデルのメッシュだけを選択してください。

![](https://md.trap.jp/uploads/upload_cc69d76e49af7f0421b177c762845781.png)

次に、メッシュを選択したまま、<kbd>shift</kbd>+左クリックでアーマチュアも選択してください。下図のようにアーマチュアがオレンジ、メッシュが濃いオレンジになっていればOK。

![](https://md.trap.jp/uploads/upload_a01aac839649435d52f137b6f162b089.png)

この状態で**右クリック**をしてメニューを開き、"ペアレント"→"自動のウェイトで"を選択してください。これにより、メッシュがアーマチュアに追従する用設定されます。

![](https://md.trap.jp/uploads/upload_30f926e5363d862660fd08e0e3f43b97.png)

## ポーズ作成

次にポーズを設定します。
オブジェクトモードで**アーマチュアを選択し**、**ポーズモード**に切り替えます。

![](https://md.trap.jp/uploads/upload_8c37c60aaaffe36cb47fb096f028a978.png)

この状態でボーンの移動や回転をすると、モデルを変形させることができます。

![](https://md.trap.jp/uploads/upload_cd94b13df69611e7f0303b8b4938a806.png)

## キーフレームの作成

ここからは、実際にアニメーションを作成していきます。

まず、キーフレームを作成するために**タイムライン**パネルを広げます。

赤枠で囲った部分に実はタイムラインパネルがありました。ビューポートとの境界線にマウスを重ね、矢印が出たらドラッグして領域を広げることができます。

![](https://md.trap.jp/uploads/upload_3a69be7e8ab1f7a1ba34f317acf028b3.png)

![](https://md.trap.jp/uploads/upload_b8042804302dbc78106f6d2f8b4083a8.png)

これでキーフレームを作成する準備ができました。
まず、**タイムラインの青いバーを0フレーム目に合わせてください**。

この状態でアーマチュアのポーズモードに移り、自由にポーズを作ってください。

ポーズができたらボーンを**全選択**し、**<kbd>I</kbd>を押してキーフレームの挿入**を行います。

メニューの位置・回転・スケールを選択すると、選択したボーンの位置・回転・スケールがキーフレームとして0フレーム目に挿入されます。

![](https://md.trap.jp/uploads/upload_a404ebfeb313fb72443929d68b5056a6.png)

キーフレームが挿入された印として、タイムラインに黄色のひし形が表示されます。
![](https://md.trap.jp/uploads/upload_c33302dd21f3660a7c3f0576d9b99185.png)

これと同様に、
タイムラインのバーを動かして別のフレームに移動→そのフレームでのポーズを設定→...
を繰り返すことでアニメーションを作成していきます。自分の好きなフレームで、好きなポーズをキーフレームとして設定してみましょう。

## 出力設定

プロパティパネルの**出力プロパティ**で、出力の設定をすることができます。解像度等は自由に指定してください。動画出力の際の秒数は、終了フレームの指定により変更できます。1秒間に24フレーム用いるので、5秒の動画にしたい場合は24\*5=120フレームに設定してください。今回私は1秒間の短いループ動画にしたいので、終了を24に設定しました。

![](https://md.trap.jp/uploads/upload_8bc95b958a6175a297d85dde36f6c8f1.png)

## カメラの設定

オブジェクトモードに戻り、カメラの設定をします。デフォルトでカメラが追加されているはずですが、もしカメラを消してしまっていた場合、"追加"→"カメラ"でカメラを追加してください。

メッシュの編集モード同様にカメラの移動・回転が可能です。モデルが画角に収まるように調整してください。

![](https://md.trap.jp/uploads/upload_d2ea5d0196aba1fd026dcd5d3a92cbd5.png)

また、カメラからの見た目がどうなっているかは、テンキーの<kbd>0</kbd>、または"ビュー"→"視点"→"カメラ"で確認できます。

![](https://md.trap.jp/uploads/upload_604d21aac2bb2a6f40ab33849277473a.png)

↑カメラからの見た目

## 画像のレンダリング

カメラ位置の調整が済んだら、画像のレンダリングをしてみましょう。画面左上の"レンダー"→"画像をレンダリング"で画像をレンダリングすることができます。

![](https://md.trap.jp/uploads/upload_85c3d59f35eb97238e615a6f5a93ab7f.png)

するとレンダーのウィンドウが開き、レンダリング結果が表示されます。この画像は左上の"画像"→"名前を付けて保存"で保存できます。

![](https://md.trap.jp/uploads/upload_84a1f8530c980eaf06cfd96b67cddca1.png)

## ライトの設定

レンダリング結果が暗すぎたり、逆に明るすぎた場合はライトの設定を見直しましょう。ライトは↓この丸い奴↓。ライトはデフォルトで存在しているはずです。

![](https://md.trap.jp/uploads/upload_55e60dc4e4527e92042dda9fd8059709.png)

ライトをもし消してしまっていたら、オブジェクトモードで"追加"→"ライト"→"ポイント"でライトを追加することができます。ライトの位置を変え、適切な明るさになるよう調整してください。

ライトのパワーや色はプロパティパネルで設定することができます。

![](https://md.trap.jp/uploads/upload_c35d42f75585aad536562f6e6cdec58c.png)

また、画面右上の↓このマーク↓をクリックすると、**レンダープレビュー**モードに切り替えることができます。このモードでは、レンダリング結果をリアルタイムで確認することができます。見た目の調整はこのモードで行いましょう。

![](https://md.trap.jp/uploads/upload_d1d3a5e7344292f6de5fc938927d1b4d.png)

## 動画の出力設定

最後に、動画出力用の設定をします。レンダープロパティの"出力"を変更します。まず、出力する動画の保存先を指定します。次に"ファイルフォーマット"以下を画像の通りに設定してください。

![](https://md.trap.jp/uploads/upload_2700fea79faa5a044b41bb3e5ad053c7.png)

この状態で"レンダー"→"アニメーションをレンダリング"を選択すると、アニメーションを出力することができます。保存フォルダを確認すると、"○○.mp4"のファイルがあるはずです。

![](https://md.trap.jp/uploads/upload_e5cc60dbd2d4d069626f927ca815f642.png)

以上でアニメーションの出力が完了です。お疲れさまでした！ぜひTwitterや進捗チャンネルに投稿しましょう！
:::

# この後やること

本資料は以上で終了ですが、ここには述べていない概念がまだまだたくさんあります。今後も3DCG(特にキャラモデリング)をやってみたいという方のために、いくつかアドバイスを残します。

- 他の人が作ったモデルをひたすら眺める
  - ゲームでもMMDでもVtuberでも何でもいいです。とにかくいろんなモデルを眺めてください。そしていっぱいパクってください。気に入ったモデルをパクった後に「こうしたほうが良いんじゃね？」ってちょっとずつ改良してみてください。オリジナルモデルの完成です。
    - パクるといっても、シュリンクラップとか複製でモデルのデータをそのまま利用してはいけません。著作権で殴られます。いろんなモデルを見て、多くのモデルで共通したポリゴンの形状とかを見つけて、自分のモデルに取り入れてみましょう。
  - 眺めるのにおすすめなサイト
    - [ニコニ立体](https://3d.nicovideo.jp/)
      - アニメキャラやトゥーン表現に興味があるならまずここ
    - [sketchfabの週間人気モデル](https://sketchfab.com/3d-models/popular)
      - 外人さんの投稿が多いのでアニメチックなキャラモデルは少ないけどクオリティは総じて高い
  - "好きな作品"や"目指したい作風"を持っておくことはモチベーション維持にもなります。
- 0から作らない
  - 3DCGを0から作るとなると、非常に工数が多く、めちゃくちゃ大変です。特に大変なのは、「終盤まで完成形が見えなくてやる気が出ない」です。メンタルが死にます。なので、初心者の方は既存のモデルを改変するか、VRoid等のモデル作成支援ソフトを使って「8~10割完成しているモデルに手を加えてモデリングする」ことから始めてみてください。これに満足できなくなったら0から始めてみましょう。
- 網羅的に"知る"
  - 3DCGの制作では、まず"知識"が必要だと(個人的に)思ってます。
    - 例えばこの資料ではモデルの作成時、右腕と左腕をそれぞれバラバラに作成しましたが、多くのモデリングソフトは"ミラー"または"対称"と呼ばれる機能を有しており、左右対称のモデルをもっと簡単に作成することができます。
  - 「知っていれば効率的に作業できるようになる知識」はもちろん、「絶対に知っておかないと制作できない知識」はたくさんあると思います。で、これらの概念はそれを"知る"までの道のりが長いと思っています。
    - 例えばミラーの例では、頑張れば手作業で左右対称のモデルも作れてしまうので、そもそも「左右対称に編集できる便利機能があるかもしれない」という発想に至らないこともあり得ます。
    - また、「初心者の語彙力での検索」では、このような便利機能にたどり着けないことも多々あります。
  - なので初心者の方には、[CG用語辞典 | CGWORLD Entry.jp](https://entry.cgworld.jp/terms/)や[CG用語辞典｜デジタルハリウッドの専門スクール（学校）](https://school.dhw.co.jp/word/cg/)などを眺めて"網羅的に概念を知る"ことをお勧めします。
  - ここで重要なのは、"知る"だけであって"理解する"必要はまだ無い、ということです。「なんかよくわからんけどそういう概念があるんだなぁ」程度でも覚えておけば、絶対に後々役立ちます。初心者の時点で0から理解しようとしても混乱するだけなので、まずは"単語を知っている, 聞いたことがある"程度で大丈夫です。
